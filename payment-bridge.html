<form id="paymentForm" method="POST" action="https://tpv.uma.es/icafr-2025/" style="display: none;">
    <input type="hidden" name="amount" id="amount">
    <input type="hidden" name="payment_concept" id="payment_concept">
    <input type="hidden" name="full_name" id="full_name">
    <input type="hidden" name="document_id" id="document_id">
</form>

<script>
    const urlParams = new URLSearchParams(window.location.search);

    function set(id, val) {
        document.getElementById(id).value = val || "";
    }

    // ALWAYS ensure xx.xx format
    const amount = parseFloat(urlParams.get('amount')).toFixed(2);

    set('amount', amount);
    set('payment_concept', urlParams.get('payment_concept'));
    set('full_name', urlParams.get('first_name') + " " + urlParams.get('last_name'));
    set('document_id', urlParams.get('document_id'));

    setTimeout(() => {
        document.getElementById('paymentForm').submit();
    }, 800);
</script>
